(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-data-history-list"],{7238:function(t,e,n){"use strict";n.r(e);var a=n("f17d"),o=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=o.a},"7c76":function(t,e,n){"use strict";n.r(e);var a=n("7e2e"),o=n("7238");for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);var s,c=n("f0c5"),u=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"5ef73d27",null,!1,a["a"],s);e["default"]=u.exports},"7e2e":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"uni-header"},[n("v-uni-view",{staticClass:"uni-group"},[n("v-uni-text",[t._v("起始日期：")]),n("v-uni-picker",{attrs:{mode:"date",value:t.startDate},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindStartDateChange.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.startDate))])],1),n("v-uni-text",[t._v("截止日期：")]),n("v-uni-picker",{attrs:{mode:"date",value:t.endDate},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindEndDateChange.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.endDate))])],1),n("v-uni-button",{staticClass:"uni-button",attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.syncHistoryData.apply(void 0,arguments)}}},[t._v(t._s(t.$t("common.button.sync")))])],1)],1)],1)},i=[]},f17d:function(t,e,n){"use strict";(function(t){n("99af"),n("4160"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{startDate:this.getDate({format:!0}),endDate:this.getDate({format:!0}),stockList:[]}},methods:{syncHistoryData:function(){console.log("startDate:",this.startDate,"endDate:",this.endDate);var t="https://quotes.money.163.com/service/chddata.html?code=0601318&start="+this.startDate+"&end="+this.endDate,e=uni.downloadFile({url:t,filePath:"./123",success:function(t){200===t.statusCode&&console.log("下载成功"),console.log(t.tempFilePath)}});e.onProgressUpdate((function(t){console.log("下载进度"+t.progress),console.log("已经下载的数据长度"+t.totalBytesWritten),console.log("预期需要下载的数据总长度"+t.totalBytesExpectedToWrite)}))},getPageData:function(e,n){var a=this,o=t.database();o.collection("stock").limit(n).get({getCount:!0}).then((function(t){a.stockList=t.result.data,console.log("this.stockList:",a.stockList),a.stockList.forEach((function(t,e){console.log("forEach item:",t),console.log("forEach code:",t.code),console.log("forEach name:",t.name)}))})).catch((function(t){console.log(t.code),console.log(t.message)}))},bindStartDateChange:function(t){this.startDate=t.target.value},bindEndDateChange:function(t){this.endDate=t.target.value},getDate:function(t){var e=new Date,n=e.getFullYear(),a=e.getMonth()+1,o=e.getDate();return a=a>9?a:"0"+a,o=o>9?o:"0"+o,"".concat(n,"-").concat(a,"-").concat(o)}}};e.default=a}).call(this,n("a9ff")["default"])}}]);